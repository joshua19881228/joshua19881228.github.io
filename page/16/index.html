<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon.ico">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.ico">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"yoursite.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"gitalk","storage":true,"lazyload":false,"nav":null,"activeClass":"gitalk"},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="Do not aim for success if you want it; just do what you love and believe in, and it will come naturally.">
<meta property="og:type" content="website">
<meta property="og:title" content="Joshua&#39;s Blog">
<meta property="og:url" content="http://yoursite.com/page/16/index.html">
<meta property="og:site_name" content="Joshua&#39;s Blog">
<meta property="og:description" content="Do not aim for success if you want it; just do what you love and believe in, and it will come naturally.">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Joshua LI">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://yoursite.com/page/16/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>Joshua's Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Joshua's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a>

  </li>
        <li class="menu-item menu-item-my-jumble-of-computer-vision">

    <a href="/2016/08/25/Computer_Vision/2016-08-25-my-jumble-of-computer-vision/" rel="section"><i class=" fa-fw"></i>My Jumble of Computer Vision</a>

  </li>
        <li class="menu-item menu-item-an-introduction-to-cnn-based-object-detection">

    <a href="/2017/06/13/Computer_Vision/2017-06-13-An-Introduction-to-CNN-based-Object-Detection/" rel="section"><i class=" fa-fw"></i>An Introduction to CNN based Object Detection</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/10/09/Using_Linux/2016-10-09-Useful-tools-in-Ubuntu/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar-icon.png">
      <meta itemprop="name" content="Joshua LI">
      <meta itemprop="description" content="Do not aim for success if you want it; just do what you love and believe in, and it will come naturally.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Joshua's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2016/10/09/Using_Linux/2016-10-09-Useful-tools-in-Ubuntu/" class="post-title-link" itemprop="url">在Ubuntu上愉快地玩耍</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2016-10-09 00:00:00" itemprop="dateCreated datePublished" datetime="2016-10-09T00:00:00+08:00">2016-10-09</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-08-19 17:11:04" itemprop="dateModified" datetime="2022-08-19T17:11:04+08:00">2022-08-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Using-Linux/" itemprop="url" rel="index"><span itemprop="name">Using Linux</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>以前也尝试使用ubuntu，但是苦于连个像样的拼音输入法都没有，用了一段时间之后觉得太不友好了。现在的开源社区真是繁荣了，好多软件都有linux版本了。</p>
<h2 id="一些必备工具"><a href="#一些必备工具" class="headerlink" title="一些必备工具"></a>一些必备工具</h2><ol>
<li><p>搜狗拼音输入法</p>
<p> <a href="http://pinyin.sogou.com/" target="_blank" rel="noopener">搜狗拼音输入法</a>是最好用的拼音输入法之一，现在不只支持传统的Windows和Android系统，还支持Linux和Mac系统，甚至IOS都已经可以使用了，可见其在拼音输入法领域内的地位。</p>
</li>
<li><p>有道词典</p>
<p> <a href="http://cidian.youdao.com/index-linux.html" target="_blank" rel="noopener">有道词典</a>也支持几乎所有的流行平台，是看paper和科学上网的必备利器。</p>
</li>
<li><p>微信客户端</p>
<p> 微信客户端用的是<a href="https://github.com/geeeeeeeeek/electronic-wechat" target="_blank" rel="noopener">Electronic WeChat</a>是利用<a href="https://github.com/atom/electron" target="_blank" rel="noopener">Electron</a>开源框架开发的一款第三方微信客户端，支持Linux和MacOS X系统。</p>
</li>
<li><p>网易云音乐</p>
<p> <a href="http://music.163.com/#/download" target="_blank" rel="noopener">网易云音乐</a>听音乐的利器，也支持各大操作系统。</p>
</li>
<li><p>Steam</p>
<p> 以往linux系统的娱乐性很差，现在有了<a href="http://store.steampowered.com/" target="_blank" rel="noopener">Steam</a>，各种大型游戏也不在话下了。</p>
</li>
<li><p>QQ</p>
<p> 腾讯对linux系统的支持比较差，上面提到的微信客户端也是爱好者自己利用网页版微信开发的。我在linux用QQ的解决方法来自<a href="http://blog.csdn.net/yunwei888/article/details/51991185" target="_blank" rel="noopener">这里</a>，网上也有很多类似的教程，退而求其次地用wine qq吧。</p>
</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/10/07/Coding/2016-10-07-Using-Gstreamer-to-play-video-files/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar-icon.png">
      <meta itemprop="name" content="Joshua LI">
      <meta itemprop="description" content="Do not aim for success if you want it; just do what you love and believe in, and it will come naturally.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Joshua's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2016/10/07/Coding/2016-10-07-Using-Gstreamer-to-play-video-files/" class="post-title-link" itemprop="url">Using Gstreamer to Play Video Files</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2016-10-07 00:00:00" itemprop="dateCreated datePublished" datetime="2016-10-07T00:00:00+08:00">2016-10-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-08-19 17:11:04" itemprop="dateModified" datetime="2022-08-19T17:11:04+08:00">2022-08-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Coding/" itemprop="url" rel="index"><span itemprop="name">Coding</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Gstreamer"><a href="#Gstreamer" class="headerlink" title="Gstreamer"></a>Gstreamer</h1><p>The official website of Gstreamer is <a href="https://gstreamer.freedesktop.org/" target="_blank" rel="noopener">here</a>. What is Gstreamer is quoted from its website:</p>
<blockquote>
<p>GStreamer is a library for constructing graphs of media-handling components. The applications it supports range from simple Ogg/Vorbis playback, audio/video streaming to complex audio (mixing) and video (non-linear editing) processing.</p>
<p>Applications can take advantage of advances in codec and filter technology transparently. Developers can add new codecs and filters by writing a simple plugin with a clean, generic interface.</p>
<p>GStreamer is released under the LGPL. The 1.x series is API and ABI stable and supersedes the previous stable 0.10 series. Both can be installed in parallel.</p>
</blockquote>
<h1 id="A-Simple-Tutorial"><a href="#A-Simple-Tutorial" class="headerlink" title="A Simple Tutorial"></a>A Simple Tutorial</h1><p>I started to learn to use Gstreamer just two days ago, and I found a very useful tutorial called <a href="https://arashafiei.files.wordpress.com/2012/12/gst-doc.pdf" target="_blank" rel="noopener">Gstreamer Small Tutorial</a> authored by <a href="https://github.com/ashafiei" target="_blank" rel="noopener">Arash Shafiei</a>. One could use this tutorial as a stepping-stone to develop more complex applications. A more detailed tutorial can be found in Gstreamer’s <a href="http://docs.gstreamer.com/display/GstSDK/Tutorials" target="_blank" rel="noopener">website</a>.</p>
<h1 id="My-Own-Trial"><a href="#My-Own-Trial" class="headerlink" title="My Own Trial"></a>My Own Trial</h1><p>Though Arash Shafiei provided an excellent sample, there is some modifications that need to be done to run the application to play video correctly.</p>
<ol>
<li>more recent API should be used by replacing <code>gst_pad_get_caps</code> with <code>gst_pad_query_caps</code>.</li>
<li>there’s a mistake in Arash Shafiei’s sample code of <code>static void pad_added_handler(GstElement *src, GstPad *new_pad, CustomData *data)</code>. The original code will not link video sink if the audio sink has already linked no matter whether video sink is linked or not.</li>
<li>a demuxer is added to the pipeline to handle the input of a file source element.</li>
</ol>
<p>my own code can be found following:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;gst/gst.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;glib.h&gt;</span></span></span><br><span class="line"><span class="comment">/* Structure to contain all our information, so we can pass it to callbacks */</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> _<span class="title">CustomData</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    GstElement *pipeline;</span><br><span class="line">    GstElement *source;</span><br><span class="line">    GstElement *demuxer;</span><br><span class="line">    GstElement *video_convert;</span><br><span class="line">    GstElement *audio_convert;</span><br><span class="line">    GstElement *video_sink;</span><br><span class="line">    GstElement *audio_sink;</span><br><span class="line">&#125; CustomData;</span><br><span class="line"><span class="comment">/* Handler for the pad-added signal */</span></span><br><span class="line"><span class="comment">/* This function will be called by the pad-added signal */</span></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">pad_added_handler</span><span class="params">(GstElement *src, GstPad *new_pad, CustomData *data)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    GstPad *sink_pad_audio = gst_element_get_static_pad(data-&gt;audio_convert, <span class="string">"sink"</span>);</span><br><span class="line">    GstPad *sink_pad_video = gst_element_get_static_pad(data-&gt;video_convert, <span class="string">"sink"</span>);</span><br><span class="line">    GstPadLinkReturn ret;</span><br><span class="line">    GstCaps *new_pad_caps = <span class="literal">NULL</span>;</span><br><span class="line">    GstStructure *new_pad_struct = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">const</span> gchar *new_pad_type = <span class="literal">NULL</span>;</span><br><span class="line">    g_print(<span class="string">"Received new pad '%s' from '%s':\n"</span>, GST_PAD_NAME(new_pad), GST_ELEMENT_NAME(src));</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Check the new pad's type */</span></span><br><span class="line">    new_pad_caps = gst_pad_query_caps(new_pad, <span class="number">0</span>);</span><br><span class="line">    new_pad_struct = gst_caps_get_structure(new_pad_caps, <span class="number">0</span>);</span><br><span class="line">    new_pad_type = gst_structure_get_name(new_pad_struct);</span><br><span class="line">    <span class="keyword">if</span> (g_str_has_prefix(new_pad_type, <span class="string">"audio/x-raw"</span>))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">/* If our audio converter is already linked, we have nothing to do here */</span></span><br><span class="line">        <span class="keyword">if</span> (gst_pad_is_linked(sink_pad_audio))</span><br><span class="line">        &#123;</span><br><span class="line">            g_print(<span class="string">" Type is '%s'.\n"</span>, new_pad_type);</span><br><span class="line">            g_print(<span class="string">" We are already linked. Ignoring.\n"</span>);</span><br><span class="line">            <span class="keyword">goto</span> <span class="built_in">exit</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">/* Attempt the link */</span></span><br><span class="line">        ret = gst_pad_link(new_pad, sink_pad_audio);</span><br><span class="line">        <span class="keyword">if</span> (GST_PAD_LINK_FAILED(ret))</span><br><span class="line">        &#123;</span><br><span class="line">            g_print(<span class="string">" Type is '%s' but link failed.\n"</span>, new_pad_type);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            g_print(<span class="string">" Link succeeded (type '%s').\n"</span>, new_pad_type);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (g_str_has_prefix(new_pad_type, <span class="string">"video/x-raw"</span>))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">/* If our video converter is already linked, we have nothing to do here */</span></span><br><span class="line">        <span class="keyword">if</span> (gst_pad_is_linked(sink_pad_video))</span><br><span class="line">        &#123;</span><br><span class="line">            g_print(<span class="string">" Type is '%s'.\n"</span>, new_pad_type);</span><br><span class="line">            g_print(<span class="string">" We are already linked. Ignoring.\n"</span>);</span><br><span class="line">            <span class="keyword">goto</span> <span class="built_in">exit</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">/* Attempt the link */</span></span><br><span class="line">        ret = gst_pad_link(new_pad, sink_pad_video);</span><br><span class="line">        <span class="keyword">if</span> (GST_PAD_LINK_FAILED(ret))</span><br><span class="line">        &#123;</span><br><span class="line">            g_print(<span class="string">" Type is '%s' but link failed.\n"</span>, new_pad_type);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            g_print(<span class="string">" Link succeeded (type '%s').\n"</span>, new_pad_type);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        g_print(<span class="string">" It has type '%s' which is not raw audio. Ignoring.\n"</span>, new_pad_type);</span><br><span class="line">        <span class="keyword">goto</span> <span class="built_in">exit</span>;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="built_in">exit</span>:</span><br><span class="line">    <span class="comment">/* Unreference the new pad's caps, if we got them */</span></span><br><span class="line">    <span class="keyword">if</span> (new_pad_caps != <span class="literal">NULL</span>)</span><br><span class="line">        gst_caps_unref(new_pad_caps);</span><br><span class="line">    <span class="comment">/* Unreference the sink pad */</span></span><br><span class="line">    gst_object_unref(sink_pad_audio);</span><br><span class="line">    gst_object_unref(sink_pad_video);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(argc != <span class="number">2</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        g_printerr(<span class="string">"usage: ./player &lt;path_to_a_video&gt;\n"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    CustomData data;</span><br><span class="line">    GstBus *bus;</span><br><span class="line">    GstMessage *msg;</span><br><span class="line">    GstStateChangeReturn ret;</span><br><span class="line">    gboolean <span class="built_in">terminate</span> = FALSE;</span><br><span class="line">    <span class="comment">/* Initialize GStreamer */</span></span><br><span class="line">    gst_init(&amp;argc, &amp;argv);</span><br><span class="line">    <span class="comment">/* Create the elements */</span></span><br><span class="line">    data.source = gst_element_factory_make(<span class="string">"filesrc"</span>, <span class="string">"source"</span>);</span><br><span class="line">    data.demuxer = gst_element_factory_make(<span class="string">"decodebin"</span>, <span class="string">"demuxer"</span>);</span><br><span class="line">    data.audio_convert = gst_element_factory_make(<span class="string">"audioconvert"</span>, <span class="string">"audio_convert"</span>);</span><br><span class="line">    data.audio_sink = gst_element_factory_make(<span class="string">"autoaudiosink"</span>, <span class="string">"audio_sink"</span>);</span><br><span class="line">    data.video_convert = gst_element_factory_make(<span class="string">"videoconvert"</span>, <span class="string">"video_convert"</span>);</span><br><span class="line">    data.video_sink = gst_element_factory_make(<span class="string">"autovideosink"</span>, <span class="string">"video_sink"</span>);</span><br><span class="line">    <span class="comment">/* Create the empty pipeline */</span></span><br><span class="line">    data.pipeline = gst_pipeline_new(<span class="string">"test-pipeline"</span>);</span><br><span class="line">    <span class="keyword">if</span> (!data.pipeline || !data.source || !data.audio_convert ||</span><br><span class="line">        !data.audio_sink || !data.video_convert || !data.video_sink)</span><br><span class="line">    &#123;</span><br><span class="line">        g_printerr(<span class="string">"Not all elements could be created.\n"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/* Build the pipeline. Note that we are NOT linking the source at this point. We will do it later. */</span></span><br><span class="line">    gst_bin_add_many(GST_BIN(data.pipeline), data.source, data.demuxer,</span><br><span class="line">                    data.audio_convert, data.audio_sink, data.video_convert, data.video_sink, <span class="literal">NULL</span>);</span><br><span class="line">    <span class="keyword">if</span> (!gst_element_link(data.source, data.demuxer))</span><br><span class="line">    &#123;</span><br><span class="line">        g_printerr(<span class="string">"Elements could not be linked.\n"</span>);</span><br><span class="line">        gst_object_unref(data.pipeline);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (!gst_element_link(data.audio_convert, data.audio_sink))</span><br><span class="line">    &#123;</span><br><span class="line">        g_printerr(<span class="string">"Elements could not be linked.\n"</span>);</span><br><span class="line">        gst_object_unref(data.pipeline);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (!gst_element_link(data.video_convert, data.video_sink))</span><br><span class="line">    &#123;</span><br><span class="line">        g_printerr(<span class="string">"Elements could not be linked.\n"</span>);</span><br><span class="line">        gst_object_unref(data.pipeline);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/* Set the file to play */</span></span><br><span class="line">    g_object_set(data.source, <span class="string">"location"</span>, argv[<span class="number">1</span>], <span class="literal">NULL</span>);</span><br><span class="line">    <span class="comment">/* Connect to the pad-added signal */</span></span><br><span class="line">    g_signal_connect(data.demuxer, <span class="string">"pad-added"</span>, G_CALLBACK(pad_added_handler), &amp;data);</span><br><span class="line">    <span class="comment">/* Start playing */</span></span><br><span class="line">    ret = gst_element_set_state(data.pipeline, GST_STATE_PLAYING);</span><br><span class="line">    <span class="keyword">if</span> (ret == GST_STATE_CHANGE_FAILURE)</span><br><span class="line">    &#123;</span><br><span class="line">        g_printerr(<span class="string">"Unable to set the pipeline to the playing state.\n"</span>);</span><br><span class="line">        gst_object_unref(data.pipeline);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/* Listen to the bus */</span></span><br><span class="line">    bus = gst_element_get_bus(data.pipeline);</span><br><span class="line">    <span class="keyword">do</span></span><br><span class="line">    &#123;</span><br><span class="line">        msg = gst_bus_timed_pop_filtered(bus, GST_CLOCK_TIME_NONE,</span><br><span class="line">        (GstMessageType)(GST_MESSAGE_STATE_CHANGED | GST_MESSAGE_ERROR | GST_MESSAGE_EOS));</span><br><span class="line">        <span class="comment">/* Parse message */</span></span><br><span class="line">        <span class="keyword">if</span> (msg != <span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            GError *err;</span><br><span class="line">            gchar *debug_info;</span><br><span class="line">            <span class="keyword">switch</span> (GST_MESSAGE_TYPE(msg))</span><br><span class="line">            &#123;</span><br><span class="line">            <span class="keyword">case</span> GST_MESSAGE_ERROR:</span><br><span class="line">                gst_message_parse_error(msg, &amp;err, &amp;debug_info);</span><br><span class="line">                g_printerr(<span class="string">"Error received from element %s: %s\n"</span>, GST_OBJECT_NAME(msg-&gt;src), err-&gt;message);</span><br><span class="line">                g_printerr(<span class="string">"Debugging information: %s\n"</span>, debug_info ? debug_info : <span class="string">"none"</span>);</span><br><span class="line">                g_clear_error(&amp;err);</span><br><span class="line">                g_free(debug_info);</span><br><span class="line">                <span class="built_in">terminate</span> = TRUE;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> GST_MESSAGE_EOS:</span><br><span class="line">                g_print(<span class="string">"End-Of-Stream reached.\n"</span>);</span><br><span class="line">                <span class="built_in">terminate</span> = TRUE;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> GST_MESSAGE_STATE_CHANGED:</span><br><span class="line">                <span class="comment">/* We are only interested in state-changed messages from the pipeline */</span></span><br><span class="line">                <span class="keyword">if</span> (GST_MESSAGE_SRC(msg) == GST_OBJECT(data.pipeline))</span><br><span class="line">                &#123;</span><br><span class="line">                    GstState old_state, new_state, pending_state;</span><br><span class="line">                gst_message_parse_state_changed(msg, &amp;old_state, &amp;new_state, &amp;pending_state);</span><br><span class="line">                g_print(<span class="string">"Pipeline state changed from %s to %s:\n"</span>,</span><br><span class="line">                        gst_element_state_get_name(old_state), gst_element_state_get_name(new_state));</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="comment">/* We should not reach here */</span></span><br><span class="line">            g_printerr(<span class="string">"Unexpected message received.\n"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        gst_message_unref(msg);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">while</span> (!<span class="built_in">terminate</span>);</span><br><span class="line">    <span class="comment">/* Free resources */</span></span><br><span class="line">    gst_object_unref(bus);</span><br><span class="line">    gst_element_set_state(data.pipeline, GST_STATE_NULL);</span><br><span class="line">    gst_object_unref(data.pipeline);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>the compiling commond is </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcc player.c -o player &#96;pkg-config --cflags --libs gstreamer-1.0&#96;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/10/06/Using_Linux/2016-10-06-Using_WeChat_in_Ubuntu/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar-icon.png">
      <meta itemprop="name" content="Joshua LI">
      <meta itemprop="description" content="Do not aim for success if you want it; just do what you love and believe in, and it will come naturally.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Joshua's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2016/10/06/Using_Linux/2016-10-06-Using_WeChat_in_Ubuntu/" class="post-title-link" itemprop="url">Using WeChat in Ubuntu</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2016-10-06 00:00:00" itemprop="dateCreated datePublished" datetime="2016-10-06T00:00:00+08:00">2016-10-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-08-19 17:11:04" itemprop="dateModified" datetime="2022-08-19T17:11:04+08:00">2022-08-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Using-Linux/" itemprop="url" rel="index"><span itemprop="name">Using Linux</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>微信很早就发布了一款在Windows下的PC客户端，在使用PC的时候可以方便与亲友聊天，而不需要频频举起手机。最近一段时间我总是在Ubuntu环境下使用电脑，很长一段时间以来只能用网页版的微信，今天发现了一个好东西——Electronic WeChat。</p>
<p><a href="https://github.com/geeeeeeeeek/electronic-wechat" target="_blank" rel="noopener">Electronic WeChat</a>是利用<a href="https://github.com/atom/electron" target="_blank" rel="noopener">Electron</a>开源框架开发的一款第三方微信客户端，支持Linux和MacOS X系统。Electronic WeChat具有一些不错的特性，包括拖入图片、文件即可发送，显示贴纸消息，以及直接打开重定向的链接等等。</p>
<p>要在Linux下安装ElectronicWeChat，可以到<a href="https://github.com/geeeeeeeeek/electronic-wechat/releases" target="_blank" rel="noopener">这里</a>选择适合自己平台的版本，例如我选择的是linux-x64.tar.gz版本，执行：<code>tar zxvf linux-x64.tar.gz</code>后直接运行electronic-wechat，然后使用手机扫描二维码即可登录。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/10/06/Life_Discovery/Miscellaneous/2016-10-06-Miscellaneous/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar-icon.png">
      <meta itemprop="name" content="Joshua LI">
      <meta itemprop="description" content="Do not aim for success if you want it; just do what you love and believe in, and it will come naturally.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Joshua's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2016/10/06/Life_Discovery/Miscellaneous/2016-10-06-Miscellaneous/" class="post-title-link" itemprop="url">Miscellaneous [20161006]</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2016-10-06 00:00:00" itemprop="dateCreated datePublished" datetime="2016-10-06T00:00:00+08:00">2016-10-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-08-19 17:11:04" itemprop="dateModified" datetime="2022-08-19T17:11:04+08:00">2022-08-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Life-Discovery/" itemprop="url" rel="index"><span itemprop="name">Life Discovery</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="First-Post-on-20161006"><a href="#First-Post-on-20161006" class="headerlink" title="First Post on 20161006"></a>First Post on 20161006</h1><p>今天搞了一天<a href="https://gstreamer.freedesktop.org/" target="_blank" rel="noopener">Gstreamer</a>，早晨九点起来，就开始弄，不知不觉就到了午饭时间，吃了饭回来继续，不知不觉又到了晚饭时间。第一次搞这种编解码的库，真是头大，搞了这么整整一天，还是没什么结果。只是大概觉得gstreamer的工作原理就是把一堆element整合到一个pipeline里，然后一个多媒体文件就通过这个pipline把音频、视频解码出来，并送到对应的输出设备里。</p>
<p>说起来好像不太难，而且用gst命令也可以播放视频，但是如何把它们通过C代码融合到自己的程序里呢，同时又怎么将视频全屏显示也是个问题，网上很多例子都是用GTK，这个又是个新东西。在github上搜了很多，但是也没有发现一个简单易用的例子，真是挠头。看来还是得耐下心来看文档里。</p>
<h1 id="Update-on-20161007"><a href="#Update-on-20161007" class="headerlink" title="Update on 20161007"></a>Update on 20161007</h1><p>发现了一个很好的Gstreamer教程——<a href="https://arashafiei.files.wordpress.com/2012/12/gst-doc.pdf" target="_blank" rel="noopener">《Gstreamer Small Tutorial》</a>只有十页，读起来很顺畅，作者把Gstreamer的工作原理阐述得十分清晰，而且其中附有一个实例，对于理解有很大帮助。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/10/04/Computer_Vision/2016-10-04-caffe-on-ubuntu16.04/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar-icon.png">
      <meta itemprop="name" content="Joshua LI">
      <meta itemprop="description" content="Do not aim for success if you want it; just do what you love and believe in, and it will come naturally.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Joshua's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2016/10/04/Computer_Vision/2016-10-04-caffe-on-ubuntu16.04/" class="post-title-link" itemprop="url">Set up Caffe after Updating Ubuntu from 14.04 to 16.04</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2016-10-04 00:00:00" itemprop="dateCreated datePublished" datetime="2016-10-04T00:00:00+08:00">2016-10-04</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-08-19 17:11:04" itemprop="dateModified" datetime="2022-08-19T17:11:04+08:00">2022-08-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Computer-Vision/" itemprop="url" rel="index"><span itemprop="name">Computer Vision</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>Today I accidentally upgraded my Ubuntu 14.04 to Ubuntu 16.04. Then evidently Caffe can not be built. Several modifications are of need to bypass the issues. </p>
<ol>
<li>hack the Cuda source code. Suppress the error of <code>unsupported GNU version! gcc versions later than 4.9 are not supported!</code> by replacing <code>#if __GNUC__ &gt; 5 || (__GNUC__ == 5 &amp;&amp; __GNUC_MINOR__ &gt; 9)</code> with <code>#if __GNUC__ &gt; 4 || (__GNUC__ == 4 &amp;&amp; __GNUC_MINOR__ &gt; 9)</code>.</li>
<li>config the Makefile of Caffe. Replace <code>NVCCFLAGS += -ccbin=$(CXX) -Xcompiler -fPIC $(COMMON_FLAGS)</code> with <code>NVCCFLAGS += -D_FORCE_INLINES -ccbin=$(CXX) -Xcompiler -fPIC $(COMMON_FLAGS)</code></li>
</ol>
<p>Other steps of using Caffe can be found <a href="http://joshua881228.webfactional.com/blog_set-up-caffe-on-ubuntu1404-64bitnvidia-gtx970mcuda70_55/" target="_blank" rel="noopener">here</a> and <a href="http://joshua881228.webfactional.com/blog_some-notes_140/" target="_blank" rel="noopener">here</a>.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/10/03/Life_Discovery/Miscellaneous/2016-10-03-Miscellaneous/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar-icon.png">
      <meta itemprop="name" content="Joshua LI">
      <meta itemprop="description" content="Do not aim for success if you want it; just do what you love and believe in, and it will come naturally.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Joshua's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2016/10/03/Life_Discovery/Miscellaneous/2016-10-03-Miscellaneous/" class="post-title-link" itemprop="url">Miscellaneous [20161003]</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2016-10-03 00:00:00" itemprop="dateCreated datePublished" datetime="2016-10-03T00:00:00+08:00">2016-10-03</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-08-19 17:11:04" itemprop="dateModified" datetime="2022-08-19T17:11:04+08:00">2022-08-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Life-Discovery/" itemprop="url" rel="index"><span itemprop="name">Life Discovery</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>最近看了不少小说和电影。</p>
<p>其中电影算是跟风看的，包括《釜山行》和《隧道》。小说的话还是东野圭吾的作品《毕业》和《时生》。</p>
<p>这两部韩国电影虽说硬伤不少，比如《釜山行》里脑残的车厢安排，《隧道》里手机电池的坚挺，不过要说扣人心弦，还真挺有套路的。就故事而言，完成度还不错，来龙去脉、节奏控制都比较完整，能够算是合格的工业线生产的类型片。比起很多国内的电影，这个水平已经是相当不错了。很多网友都说某某电影甩国产电影几条街，这两部也在某某之列，不说是不是有几条街远，就整体水平而言，韩国电影里的烂片可能在国内也能算是中等以上了。说来也奇怪，一些设置放在韩国电影或者电视剧里好像很自然，但是放在国内的电影里就相当出戏，比如《大鱼海棠》里的人物设置，我喜欢你，你喜欢他，我为你牺牲一切，看起来好像完全没问题，但是不知道为什么在《大鱼海棠》里就是那么不自然。不知道是我对韩国电影有了刻板印象，还是对国内电影太过苛求，总是感觉大部分国内电影在使用这样的人设时都质量堪忧啊。</p>
<p>两部东野圭吾的小说好像也没什么太多要说的，东野圭吾是个高产的作家，最近也看了很多，说不上有多好，很多情节设置好像有些牵强，或者巧合过多。东野圭吾的小说可能不是世界上最好的推理小说，但是他对人性的挖掘的确是深刻的，不管是对人性恶的一面还是善的一面，东野都会进行放大，让读者无需费什么劲儿就能感受到，从而也会反思生活中的我们是不是也是有这样的恶或善。</p>
<p>看了不少东西，不过让我突然有所感触的却是家里餐厅墙上挂着的一幅十字绣，十字绣的内容是《兰亭序》。以前上学的时候没有太大的感觉，只是背了下来，但是那天吃饭的时候又读了读，马上就联想到最近看的电影和小说，这些人都是在感叹：活着真好！《兰亭序》里的那一句“固知一死生为虚诞，齐彭殇为妄作”，不也是王羲之在欣赏了自然之美，感受了快意人生之后，希望自己可以多多享受这样的人生吗？曾几何时，我也好像有了类似的感觉，突然觉得美好的事物太多，想体验的人生太多，但是时间过得太快，都来不及慢慢体会，就已经飞逝而过了。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/09/29/Computer_Vision/Reading_Note/2016-09-29-Reading-note/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar-icon.png">
      <meta itemprop="name" content="Joshua LI">
      <meta itemprop="description" content="Do not aim for success if you want it; just do what you love and believe in, and it will come naturally.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Joshua's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2016/09/29/Computer_Vision/Reading_Note/2016-09-29-Reading-note/" class="post-title-link" itemprop="url">Face Detection with End-to-End Integration of a ConvNet and a 3D Model</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2016-09-29 00:00:00" itemprop="dateCreated datePublished" datetime="2016-09-29T00:00:00+08:00">2016-09-29</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-08-19 17:11:04" itemprop="dateModified" datetime="2022-08-19T17:11:04+08:00">2022-08-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Computer-Vision/" itemprop="url" rel="index"><span itemprop="name">Computer Vision</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><strong>TITLE</strong>: Face Detection with End-to-End Integration of a ConvNet and a 3D Model</p>
<p><strong>AUTHOR</strong>: Yunzhu Li, Benyuan Sun, Tianfu Wu, Yizhou Wang</p>
<p><strong>ASSOCIATION</strong>:  Peking University, North Carolina State University</p>
<p><strong>FROM</strong>: <a href="https://www.arxiv.org/abs/1606.00850" target="_blank" rel="noopener">arXiv:1606.00850</a></p>
<h3 id="CONTRIBUTIONS"><a href="#CONTRIBUTIONS" class="headerlink" title="CONTRIBUTIONS"></a>CONTRIBUTIONS</h3><ol>
<li>It presents a simple yet effective method to integrate a ConvNet and a 3D model in an end-to-end learning with multi-task loss used for face detection in the wild.</li>
<li>It addresses two limitations in adapting the state-of-the-art faster-RCNN for face detection: eliminating the heuristic design of anchor boxes by leveraging a 3D model, and replacing the generic and predefined RoI pooling with a configuration pooling which exploits the underlying object structural configurations.</li>
<li>It obtains very competitive state-of-the-art performance in the FDDB and AFW benchmarks.</li>
</ol>
<h3 id="METHOD"><a href="#METHOD" class="headerlink" title="METHOD"></a>METHOD</h3><p>The main scheme of inferring is shown in the following figure.</p>
<p><img class="img-responsive center-block" src="https://raw.githubusercontent.com/joshua19881228/my_blogs/master/Computer_Vision/Reading_Note/figures/face3dmodel.jpeg" alt="" width="640"/></p>
<p>The input image is sent into a ConvNet, e.g. VGG, with an upsampling layer. Then the network will generate face proposals based on the score of summing the log probability of the keypoints, which is predicted by the predefined 3D face model.</p>
<p><strong>some details</strong></p>
<ol>
<li><p>The loss of keypoint labels is defined as </p>
<script type="math/tex; mode=display">L_{cls}(\omega)= -{1 \over 2m} \sum_{i=1}^{2m} \log(p_{l_i}^{\mathbf{x}_i})</script><p> where $\omega$ stands for the learnable weights of ConvNet, $m$ is the number of the keypoints, and $p_{l_i}^{\mathbf{x}_i}$ is the probability of the point in location $\mathbf{x}_i$, which can be obtained by annotations, belongs to label $l_i$.</p>
</li>
<li><p>The loss of keypoit locations is defined as</p>
<script type="math/tex; mode=display">L_{loc}^{pt}(\omega)={1 \over m^2} \sum_{i=1}^m \sum_{i=1}^m \sum_{t \in \{x,y\}} Smooth(t_i-\hat{t}_{i,j})</script><p> where $smooth(\cdot)$ is the smooth $l_1$ loss. For each ground-truth keypoint, we can generate a set of predicted keypoints based on the 3D face model and the 3D transformation parameters. If for each face we have $m$ keypoints, then we will generate m sets of predicted keypoints. For each keypoint, m locations will be predicted.</p>
</li>
<li><p>The <em>Configuration Pooling Layer</em> is similar to the <em>ROI Pooling Layer</em> in faster-RCNN. Features are extracted based on the locations and relations of the keypoints, rather than based on the predefined perceptive field.</p>
</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/09/28/Coding/2016-09-28-VLC/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar-icon.png">
      <meta itemprop="name" content="Joshua LI">
      <meta itemprop="description" content="Do not aim for success if you want it; just do what you love and believe in, and it will come naturally.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Joshua's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2016/09/28/Coding/2016-09-28-VLC/" class="post-title-link" itemprop="url">VLC SDK</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2016-09-28 00:00:00" itemprop="dateCreated datePublished" datetime="2016-09-28T00:00:00+08:00">2016-09-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-08-19 17:11:04" itemprop="dateModified" datetime="2022-08-19T17:11:04+08:00">2022-08-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Coding/" itemprop="url" rel="index"><span itemprop="name">Coding</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>Recently I am searching for an easy-to-use library of media framework that can be embedded to my own codes. First I have tried ffmpeg and SDL2 libraries, which I found too difficult for me since I have little experience of developing multimedia related applications. Then I found VLC media player after I searched the internet using a key word of “media player library”. I thought maybe it was a good choice and searched related projects in github. There is a very simple demo project called <a href="https://github.com/Mutinifni/VLC-OpenCV" target="_blank" rel="noopener">Controlling VLC media player using OpenCV</a>. I was extracted by the word “OpenCV” because I am an engineer in computer vision. After I clicked the link, BINGO! THAT’S ALL I NEED!</p>
<h2 id="Install-libvlc"><a href="#Install-libvlc" class="headerlink" title="Install libvlc"></a>Install libvlc</h2><ol>
<li>A simple command is used to install libvlc <code>sudo apt-get install libvlc-dev</code>.</li>
<li>One may need to install vlc media player to get the plugins work <code>sudo apt-get install vlc</code>.</li>
</ol>
<h2 id="Use-libvlc"><a href="#Use-libvlc" class="headerlink" title="Use libvlc"></a>Use libvlc</h2><p>The following code is a simple demo of how to use libvlc to play a video</p>
<pre><code>#include &lt;vlc/vlc.h&gt;
// LibVLC requirements, plays video specified as a command line argument
libvlc_instance_t *instance = libvlc_new(0, NULL);
libvlc_media_t *media = libvlc_media_new_path(instance, argv[1]);    
libvlc_media_player_t *mplayer = libvlc_media_player_new_from_media(media);

while(1)
{
    //something to do while playing video
    //...
}

libvlc_media_release(media);
libvlc_release(instance);
</code></pre><p>The libvlc will handle the multimedia thread. All we need to do is controlling the player in main thread. More document can be found <a href="https://wiki.videolan.org/LibVLC" target="_blank" rel="noopener">here</a>.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/09/26/Life_Discovery/Miscellaneous/2016-09-26-Miscellaneous/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar-icon.png">
      <meta itemprop="name" content="Joshua LI">
      <meta itemprop="description" content="Do not aim for success if you want it; just do what you love and believe in, and it will come naturally.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Joshua's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2016/09/26/Life_Discovery/Miscellaneous/2016-09-26-Miscellaneous/" class="post-title-link" itemprop="url"> 读《人类简史》有感</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2016-09-26 00:00:00" itemprop="dateCreated datePublished" datetime="2016-09-26T00:00:00+08:00">2016-09-26</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-08-19 17:11:04" itemprop="dateModified" datetime="2022-08-19T17:11:04+08:00">2022-08-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Life-Discovery/" itemprop="url" rel="index"><span itemprop="name">Life Discovery</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>前一阵在火车站随便买了一本《人类简史》，本打算是在车上无聊打发时间用，没想到看到了一本十分高质量的书。</p>
<p>刚刚看到书名的时候我还以为是一本讲解人类历史上大事件的书，因为自己对历史本来就很感兴趣，所以也没看看简介或者序文就直接买了。后来看了目录才发现这是一本完全不一样的历史书。书的英文原名是《Sapiens: A Brief History of Humankind》，Sapiens可以被译为“智人”，我们人类的生物学名称，这本书讲的就是“智人”如何从一种也没什么特别的动物逐渐演变成“变成神的动物”的。作者在书中既肯定了“智人”的成功，又警示了“智人”的毁灭。</p>
<p>第一章的开篇，作者这样写到</p>
<blockquote>
<p>大约在135亿年前，经过所谓的“大爆炸”之后，宇宙的物质、能量、时间和空间才成了现在的样子。宇宙的这些基本特征，就成了“物理学”。</p>
<p>在这之后过了大约30万年，物质和能量开始形成复杂的结构，称为“原子”，再进一步构成“分子”。至于这些原子和分子的故事以及它们如何互动，就成了“化学”。</p>
<p>大约38亿年前，这个叫做地球的行星上，有些分子结合起来，形成一种特别庞大而又精细的结构，称为“有机体”。有机体的故事，就成了“生物学”。</p>
<p>到了大约7万年前，一些属于“智人”这一物种的生物，开始创造出更加复杂的架构，称为“文化”。而这些人类文化继续发展，就成了“历史学”。</p>
</blockquote>
<p>这短短的一段话真是醍醐灌顶，我还从来没有听过什么人从这个角度来阐述人类的发展历程。感觉这就已经完美概括了人类的历史——人类的起源是什么，人类的活动是什么。</p>
<p>作者认为人类历史有三大重要革命：发生在大约7万年前的“认知革命”让历史正式启动；大约12000年前的“农业革命”让历史加速发展；大约500年前的“科学革命”让历史画下句点而另创新局。整本书也正是从这三大革命进行展开，逐渐阐述并展示给读者，这三大革命如何改变了人类和这个世界。</p>
<p>书中从生物进化、文化演进、科学发展等多个角度阐述了上面提到的三大革命。其中既有高深的学术研究成果，也有幽默有趣的实例，还包括一些我感觉近似哲学的论述。</p>
<p>第一个让我印象深刻的论述就发生在“认知革命”时期，这一论述甚至让我觉得人类就是一种带着“原罪”的生物。我们人类总是认为自己是神创造的独一无二的生物，但是其实在生物学的演化过程中，我们所属的物种可不只“智人”这一支，“human”的真正意思是“属于人属的动物”，包括尼安德特人、直立人、梭罗人、弗洛里斯人、丹尼索瓦人等等，就好像我们养的宠物狗有各种各样的品种，人类也一样，但是现在世界上只剩下了我们“智人“一种人类，而”智人“通过血腥的手段灭绝了其他人种。先不论后面在”农业革命“和”科学革命“时期人类对环境危机和物种危机的责任，单单残害异种人类就让人感到脊背发凉。</p>
<p>第二个印象深刻的论述让我刚刚说的话颇显唯心，甚至让整个人类的文化都显得唯心。作者在书中对这一部分的标题为”想象构建的秩序存在于人和人之间思想的连接“，这一句话读起来可是够拗口。文中以”标致“公司为例，阐述了这一观点，我们该以什么样的标准才能说标致公司确实存在。标致公司生产的实实在在的汽车，不能代表标致公司，因为如果我们把这些汽车全部销毁，我们仍然认为标致公司可以继续制造出属于标致公司的汽车。标致公司的员工也不能代表标致公司，因为如果标致公司的全部员工罹难，公司还是可以重新招聘新的员工。没有任何一个实体的东西可以代表标致公司，标致公司只是我们的一个集体想象。我们想毁灭掉标致公司，就必须从法律上消灭它，例如我们判定标致公司属于非法组织进行取缔。然而法律是什么呢，依旧是我们的一个集体想象，如果我说我不相信法律了，那么我肯定会受到法律的制裁，那是因为绝大多数人都相信法律，但如果是绝大多数人都不相信法律呢？</p>
<p>这两个论述让我冒出了很多疑问。比如当我们遇到一些烦恼的时候，我们是不是可以反思自己是否处于一个集体想象中呢？我们可不可以稍稍跳出一下这个集体想象？如果所有的集体想象都没了我们是否还能称之为”人“呢？说到这里，又有一个疑问，既然我们承认”人“是平平常常的一个物种，我们为什么还要思考我们是否能被称之为”人“？</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/09/24/Coding/2016-09-24-Repo-Joshua-Blog/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar-icon.png">
      <meta itemprop="name" content="Joshua LI">
      <meta itemprop="description" content="Do not aim for success if you want it; just do what you love and believe in, and it will come naturally.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Joshua's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2016/09/24/Coding/2016-09-24-Repo-Joshua-Blog/" class="post-title-link" itemprop="url">The Github Repo of this JOSHUA's BLOG</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2016-09-24 00:00:00" itemprop="dateCreated datePublished" datetime="2016-09-24T00:00:00+08:00">2016-09-24</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-08-19 17:11:04" itemprop="dateModified" datetime="2022-08-19T17:11:04+08:00">2022-08-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Coding/" itemprop="url" rel="index"><span itemprop="name">Coding</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Joshua-s-Blog"><a href="#Joshua-s-Blog" class="headerlink" title="Joshua-s-Blog"></a>Joshua-s-Blog</h1><p>I start up this repo to manage the code of my personal website <a href="http://joshua881228.webfactional.com" target="_blank" rel="noopener">JOSHUA’s BLOG</a>, which is set up on <a href="https://www.webfaction.com/" target="_blank" rel="noopener">WebFaction</a> and implemented by <a href="https://www.djangoproject.com/" target="_blank" rel="noopener">Django</a> and several other packages. The repository is <a href="https://github.com/joshua19881228/Joshua-s-Blog" target="_blank" rel="noopener">here</a>.</p>
<p>In addition to manage my own code, viewers can also use this project to learn how to build a website using Django. I will write down the works that need to be done to use these code.</p>
<p>Finally, welcome to visit <a href="http://joshua881228.webfactional.com" target="_blank" rel="noopener">JOSHUA’s BLOG</a>.</p>
<h2 id="Environment"><a href="#Environment" class="headerlink" title="Environment"></a>Environment</h2><ol>
<li><a href="http://www.ubuntu.com/" target="_blank" rel="noopener">Ubuntu 14.04</a>. Though Ubuntu 16.04 has been released for a while, I am still using an older LTS release. I am not sure the following instruction can work fine on Ubuntu 16.04.</li>
<li><a href="http://httpd.apache.org/" target="_blank" rel="noopener">Apache 2.4</a>. I chose Apache 2.4 because my deploy server is powered by Apache 2.4. The Apache HTTP Server Project is an effort to develop and maintain an open-source HTTP server for modern operating systems including UNIX and Windows. </li>
<li><a href="http://wsgi.readthedocs.io/en/latest/index.html" target="_blank" rel="noopener">WSGI 1.5</a>. WSGI is the Web Server Gateway Interface. It is a specification that describes how a web server communicates with web applications, and how web applications can be chained together to process one request.</li>
<li><a href="https://www.djangoproject.com/" target="_blank" rel="noopener">Django 1.7.1</a>. Hmm… I am still using an ancient version of Django. It is also because I wish I could have an exactly same developing environment with the deploy one. Django is a high-level Python Web framework that encourages rapid development and clean, pragmatic design. Built by experienced developers, it takes care of much of the hassle of Web development, so you can focus on writing your app without needing to reinvent the wheel. It’s free and open source. </li>
</ol>
<h2 id="Instructions"><a href="#Instructions" class="headerlink" title="Instructions"></a>Instructions</h2><h3 id="Install-Apache-2-4"><a href="#Install-Apache-2-4" class="headerlink" title="Install Apache 2.4"></a>Install Apache 2.4</h3><p>Apache can be installed easily using the apt-get. <code>sudo apt-get install apache2</code>. Then we can use <code>apacheclt -v</code> to check the version of Apache and its success of installation.</p>
<h3 id="Install-mod-wsgi-1-5"><a href="#Install-mod-wsgi-1-5" class="headerlink" title="Install mod_wsgi 1.5"></a>Install mod_wsgi 1.5</h3><p>mod_wsgi can be installed using Pip, which can be installed using <code>sudo apt-get install python-pip</code>.</p>
<ol>
<li>install mod_wsgi using <code>pip install mod_wsgi</code>. I met an error of <code>missing Apache httpd server packages.</code> here. I bypassed this error by <code>sudo apt-get install apache2-mpm-worker apache2-dev</code>.</li>
<li>download mod_wsgi-3.5.tar.gz from <a href="http://modwsgi.readthedocs.io/en/latest/release-notes/version-3.5.html" target="_blank" rel="noopener">here</a>.</li>
<li>extract files from the package using <code>tar xvfz mod_wsgi-3.5.tar.gz</code>.</li>
<li>enter the directory <code>cd cd mod_wsgi-3.5</code>.</li>
<li>config by <code>./configure</code></li>
<li><code>make</code></li>
<li><code>sudo make install</code></li>
</ol>
<h3 id="Install-Django-1-7-1"><a href="#Install-Django-1-7-1" class="headerlink" title="Install Django 1.7.1"></a>Install Django 1.7.1</h3><p>Install Django using command <code>pip install Django==1.7.1</code>. To verify its installation, try to <code>import django</code> in python console. If no error is raised, then the installation is successful. </p>
<h3 id="Set-up-joshua-blog-project-with-Apache"><a href="#Set-up-joshua-blog-project-with-Apache" class="headerlink" title="Set up joshua_blog project with Apache"></a>Set up joshua_blog project with Apache</h3><p>Note: after download the project, you should change the folder name to <code>joshua_blog</code>.</p>
<ol>
<li><p>add the following code to the file of <code>/etc/apache2/apache2.conf</code></p>
<pre><code> LoadModule wsgi_module /usr/lib/apache2/modules/mod_wsgi.so
 WSGIScriptAlias / /home/joshua/CODE/PYTHON/joshua_blog/joshua_blog/wsgi.py
 Alias /media/ /home/joshua/CODE/PYTHON/joshua_blog/media/
 Alias /static/ /home/joshua/CODE/PYTHON/joshua_blog/static/

 &lt;Directory /home/joshua/CODE/PYTHON/joshua_blog/static&gt;
     Require all granted
 &lt;/Directory&gt;

 &lt;Directory /home/joshua/CODE/PYTHON/joshua_blog/media&gt;
     Require all granted
 &lt;/Directory&gt;

 &lt;Directory /home/joshua/CODE/PYTHON/joshua_blog/joshua_blog&gt;
     &lt;Files wsgi.py&gt;
         Require all granted
     &lt;/Files&gt;
 &lt;/Directory&gt;

 WSGIPythonPath /home/joshua/anaconda/lib/python2.7/site-packages
 ServerName localhost:80
</code></pre></li>
<li><p>add the following code to the file of <code>joshua_blog/joshua_blog/wsgi.py</code></p>
<pre><code> import sys
 sys.path.append(&quot;/path/joshua_blog/&quot;)
</code></pre><p> in my case, the path is <code>/home/joshua/CODE/PYTHON/</code>.</p>
</li>
<li><p>restart apache server by <code>sudo service apache2 restart</code></p>
</li>
</ol>
<h3 id="Install-dependency-modules"><a href="#Install-dependency-modules" class="headerlink" title="Install dependency modules"></a>Install dependency modules</h3><p>Coming here, we have set up the environment. But when we visit <code>127.0.0.1</code>, we found that the web server return 500 error. It is because several modules needed by joshua_blog are of need to be installed manually. We can see which modules are missed in the file of <code>/var/log/apache2/error.log</code>. Next we will see how to install these modules.</p>
<ol>
<li><strong>django-bootstrap</strong>. The author suggests to install this app using <code>pip install django-bootstrap</code>, but the latest version of the app requires Django&gt;=1.8. Thus we need to download django-bootstrap from 6.x.x branch, which can be found <a href="https://pypi.python.org/pypi/django-bootstrap3/6.2.0" target="_blank" rel="noopener">here</a>. Extract the package and enter its directory. Install by <code>python setup.py install</code>.</li>
<li><strong>django-filemanager</strong>. The installation instruction can be found <a href="http://joshua881228.webfactional.com/blog_using-imgiitroorkee-django-filemanager_59/" target="_blank" rel="noopener">here</a>.</li>
<li><strong>django-disqus</strong>. Install by <code>pip install django-disqus</code>. A brief introduction in Chinese can be found <a href="http://joshua881228.webfactional.com/blog_li-yong-disquskuai-su-da-jian-ping-lun-xi-tong_57/" target="_blank" rel="noopener">here</a></li>
<li><strong>unidecode</strong>. Install by <code>pip install unidecode</code>.</li>
<li><strong>markdown2</strong>. Install by <code>pip install markdown2</code>. A brief introduction in Chinese can be found <a href="http://joshua881228.webfactional.com/blog_zai-djangogong-cheng-zhong-shi-yong-markdown_41/" target="_blank" rel="noopener">here</a>.</li>
</ol>
<p>At last we can visit our website at 127.0.0.1. We can log in as the supervisor using the username of <code>joshua</code> and the password of <code>joshua</code>. We may meet other issues:</p>
<ol>
<li>Here maybe we will get an error message reading “attempt to write a readonly database”. We should change its mode by <code>chmod 666 db.sqlite3</code>.</li>
<li>Then another error comes as “unable to open database file”. Then we should change the owner of the whole project <code>sudo chown www-data joshua_blog</code>.</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/15/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/15/">15</a><span class="page-number current">16</span><a class="page-number" href="/page/17/">17</a><span class="space">&hellip;</span><a class="page-number" href="/page/24/">24</a><a class="extend next" rel="next" href="/page/17/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Joshua LI"
      src="/images/avatar-icon.png">
  <p class="site-author-name" itemprop="name">Joshua LI</p>
  <div class="site-description" itemprop="description">Do not aim for success if you want it; just do what you love and believe in, and it will come naturally.</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">239</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">58</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/joshua19881228" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;joshua19881228" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:zhixuan.1988.li@gmail.com" title="E-Mail → mailto:zhixuan.1988.li@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="https://weibo.com/joshua1988" title="Weibo → https:&#x2F;&#x2F;weibo.com&#x2F;joshua1988" rel="noopener" target="_blank"><i class="fab fa-weibo fa-fw"></i></a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Joshua LI</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  
  <script>
    (function(){
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      bp.src = (curProtocol === 'https') ? 'https://zz.bdstatic.com/linksubmit/push.js' : 'http://push.zhanzhang.baidu.com/push.js';
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
    })();
  </script>















  

  
      

<script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
          load: ['[tex]/mhchem'],
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
          packages: {'[+]': ['mhchem']},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script>

    

  


</body>
</html>
